<md-toolbar>
    <app-navigation></app-navigation>
    <app-title></app-title>
    <div class="toolbar-icon-spacer"></div>
</md-toolbar>

<form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
    <md-input-container #passwordContainer
                        [dividerColor]="getPasswordDividerColor('password')">
        <input mdInput
               #password
               formControlName="password"
               placeholder="New password"
               required
               type='password'>
        <md-hint *ngIf="passwordContainer._control?.focused" align="end">
            <span *ngIf="changePasswordForm.controls.password.errors?.required && changePasswordForm.controls.password.dirty">required</span>
            <span *ngIf="changePasswordForm.controls.password.errors?.minlength && password.value.length > 0">min 6 symbols</span>
            <span *ngIf="changePasswordForm.errors?.different_passwords">different passwords</span>
            <span *ngIf="!changePasswordForm.controls.password.errors?.required">{{ password.value.length }} / 30</span>
        </md-hint>
    </md-input-container>
    <br>
    <md-input-container #repeatPasswordContainer
                        [dividerColor]="getPasswordDividerColor('repeatPassword')">
        <input mdInput
               #repeatPassword
               formControlName="repeatPassword"
               placeholder="Repeat password"
               required
               type='password'>
        <md-hint *ngIf="repeatPasswordContainer._control?.focused" align="end">
            <span *ngIf="changePasswordForm.controls.repeatPassword.errors?.required && changePasswordForm.controls.repeatPassword.dirty">required</span>
            <span *ngIf="changePasswordForm.controls.repeatPassword.errors?.minlength && repeatPassword.value.length > 0">min 6 symbols</span>
            <span *ngIf="changePasswordForm.errors?.different_passwords">different passwords</span>
            <span *ngIf="!changePasswordForm.controls.repeatPassword.errors?.required">{{ repeatPassword.value.length }} / 30</span>
        </md-hint>
    </md-input-container>
    <br>

    <div class="buttons">
        <button
            (click)="onCancel()"
            md-raised-button>
            Cancel
        </button>
        <button
            [disabled]="changePasswordForm.invalid"
            color="primary"
            md-raised-button
            type="submit">
            Save
        </button>
    </div>
</form>
