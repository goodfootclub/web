<md-toolbar>
    <app-back-button
        #backButton
        [disabled]="isPosting"
    ></app-back-button>
    <app-title></app-title>
    <div class="toolbar-icon-spacer"></div>
</md-toolbar>


<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <!-- Team name -->
    <md-input-container [dividerColor]="
                form.controls.name.valid ||
                form.controls.name.pristine ?
                'primary' : 'warn'">
        <input mdInput
            #name
            [style.width]="'100%'"
            formControlName="name"
            placeholder="Team name"
            required
            type='text'>
            <md-hint *ngIf="name.focused" align="end">
                <span *ngIf="form.controls.name.errors?.required">
                    required
                </span>
                <span *ngIf="!form.controls.name.errors?.required">
                    {{ name.characterCount }} / 30
                </span>
            </md-hint>
    </md-input-container>
    <br>

    <md-input-container [dividerColor]="form.controls.info.valid ? 'primary' : 'warn'">
        <textarea mdInput
            #info
            [style.width]="'100%'"
            type='text'
            formControlName="info"
            placeholder="Info">
            <md-hint *ngIf="info.focused">
                Describe your team for potential players
            </md-hint>
            <md-hint *ngIf="info.focused" align="end">
                {{ info.characterCount }} / 1000
            </md-hint>
        </textarea>
    </md-input-container>
    <br>

    <md-radio-group formControlName="type">
        <!--
            Couple divs on each side to make something in the middle between
            justify-content: center and justify-content: space-around
        -->
        <div></div>
        <div></div>
        <md-radio-button value="2">Men</md-radio-button>
        <md-radio-button value="1">Women</md-radio-button>
        <md-radio-button value="0">Coed</md-radio-button>
        <div></div>
        <div></div>
    </md-radio-group>
    <br>

    <div class="buttons">
        <button
            (click)="backButton.back()"
            [disabled]="isPosting"
            md-raised-button>
            Cancel
        </button>
        <button
            [disabled]="form.invalid || isPosting"
            color="primary"
            md-raised-button
            type="submit">
            Save
        </button>
    </div>
</form>
