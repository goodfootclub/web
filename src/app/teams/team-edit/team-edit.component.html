<md-toolbar>
    <app-back-button
        #backButton
        [disabled]="isPosting"
    ></app-back-button>
    <app-title></app-title>
    <div class="toolbar-icon-spacer"></div>
</md-toolbar>

<md-card>
    <form [formGroup]="form">
        <div class="edit-input-line">
            <md-input-container [dividerColor]="
                    form.controls.info.valid ||
                    form.controls.info.pristine ?
                    'primary' : 'warn'" #infoContainer>
                <input mdInput
                       #info
                       formControlName="info"
                       placeholder="Enter team info"
                       required
                       type='text'>
                <md-hint align="end" *ngIf="infoContainer._mdInputChild.focused">
                <span *ngIf="form.controls.info.errors?.required">
                    required
                </span>
                <span *ngIf="!form.controls.info.errors?.required">
                    {{ info.value.length }} / 1000
                </span>
                </md-hint>
            </md-input-container>
            <div class="edit-input-button">
                <button md-icon-button (click)="saveInfo()" *ngIf="form.controls.info.dirty">
                    <md-icon>save</md-icon>
                </button>
            </div>
        </div>
    </form>
</md-card>

<hr/>
<md-card>
    <div class="inline-roaster-header">
        <h1>Roaster</h1>
        <button md-mini-fab *ngIf="isPlayer || isManager" [routerLink]="['/players', {targetTeam: team.id}]"><md-icon>add</md-icon></button>
    </div>
</md-card>
<hr/>

<md-card>
    <md-list>
        <a md-list-item class="player"
            *ngFor="let player of players"
            [routerLink]="['/players', player.id]">
            <img [src]="player.img" alt="" class="player-pic">
            <div class="player-info">
                <h1> {{ player.firstName }} {{ player.lastName }} </h1>
                <div class="role">
                    {{ ROLES[player.role] }}
                </div>
            </div>
        </a>
    </md-list>
</md-card>
