<md-toolbar>
    <app-back-button></app-back-button>
    <app-title value="Pickup Game"></app-title>
    <button md-icon-button [routerLink]="['edit']" [disabled]="true">
        <md-icon>edit</md-icon>
    </button>
</md-toolbar>

<div class="container">
    <div class='row'>

        <div class="col-md-2 col-sm-12">
            <strong>I'm</strong>
        </div>
        <div *ngIf="!user" class="col-md-10 col-sm-12">
            <a href="javascript:void(0)">Able to join!</a>
        </div>
        <div *ngIf="user" class="col-md-10 col-sm-12">

            <div class="btn-group" data-toggle="buttons">
                <label
                    *ngFor="let status of [2, 0, 1];"
                    [class.active]="status == user.status"
                    class="btn btn-secondary"
                >
                    <input
                        (click)="setStatus(status)"
                        type="radio" name="options"
                        id="option1" autocomplete="off">
                    {{rsvpMessages[status]}}
                </label>
            </div>
        </div>
    </div>
    <div class='row'>
        <div class="col-md-2 col-sm-12">
            <strong>When?</strong>
        </div>
        <div *ngIf="!editMode" class="col-md-10 col-sm-12">
            {{ game?.datetime | date: 'shortTime' }}
            {{ game?.datetime | date: 'fullDate' }}
        </div>
        <div *ngIf="editMode" class="col-md-10 col-sm-12">
            ---
        </div>
    </div>

    <div class='row'>
        <div class="col-md-2 col-sm-12">
            <strong>Where?</strong>
        </div>
        <div class="col-md-10 col-sm-12">
            {{ game?.location.name }} ({{ game?.location.address }})
        </div>
    </div>


    <div class='row'>
        <div class="col-md-12">
            <h2>Players</h2>
        </div>
    </div>

    <div class='row'>
        <div
            class="col-md-6 col-sm-12"
            *ngFor="let team of game?.teams"
        >
            <h3>{{ team.name }}</h3>
            <h4>Managers</h4>
            <a *ngFor="let manager of team.managers" href="javascript:void(0)">
                {{manager.first_name}} {{manager.last_name}}
            </a><br>
            <h4>Players</h4>
            <ul style="padding: 0; margin: 0; list-style: none;">
                <li *ngFor="let player of team.playersInGame">
                    <a href="javascript:void(0)">
                        {{player.first_name}} {{player.last_name}}
                    </a>
                    ({{rsvpMessages[player.status]}})
                </li>
            </ul>
        </div>
    </div>

   <!--  <div class='row'>
        <div class="col-md-2 col-sm-12">
            <h2>Chat</h2>
        </div>
        <div class="col-md-10 col-sm-12">
            todo
        </div>
    </div> -->

</div>
