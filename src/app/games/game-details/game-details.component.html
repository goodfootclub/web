<md-toolbar>
    <app-back-button></app-back-button>
    <app-title value="Pickup Game"></app-title>

    <button *ngIf="!user" md-button color="primary" (click)="join()">
        Join
    </button>
    <button *ngIf="user" md-button color="primary" (click)="leave()">
        Leave
    </button>
</md-toolbar>


<md-card>
    <div class="data-row">
        <div>
            <strong>I'm</strong>
        </div>
        <div *ngIf="!user">
            <a href="javascript:void(0)" (click)="join()">Able to join!</a>
        </div>
        <div *ngIf="user">
            <div class="btn-group" data-toggle="buttons">
                <label
                    *ngFor="let status of [2, 0, 1];"
                    [class.active]="status == user.rsvp"
                    class="btn btn-secondary">
                    <input
                        [disabled]="status == user.rsvp"
                        (click)="setStatus(status)"
                        type="radio" name="options"
                        id="option1" autocomplete="off">
                    {{rsvpMessages[status]}}
                </label>
            </div>
        </div>
    </div>
    <div class="data-row">
        <div>
            <strong>When?</strong>
        </div>
        <div *ngIf="!editMode">
            {{ game?.datetime | date: 'shortTime' }}
            {{ game?.datetime | date: 'fullDate' }}
        </div>
        <div *ngIf="editMode">
            ---
        </div>
    </div>
    <div class="data-row">
        <div>
            <strong>Where?</strong>
        </div>
        <div>
            {{ game?.location.name }} ({{ game?.location.address }})
        </div>
    </div>
</md-card>
<md-card>
    <div class="header-content">
        <div class="header-text">
            <p>Players</p>
        </div>
    </div>
    <hr/>
    <md-list>
        <a
            md-list-item
            class="player"
            *ngFor="let player of game?.players"
            [routerLink]="['/players', player.id]"
        >
            <img [src]="player.img" alt="" class="player-pic">
            <div class="player-info">
                <h1> {{ player.firstName }} {{ player.lastName }} </h1>
            </div>
        </a>
    </md-list>
</md-card>
<!--md-card>
    <div class="header-content">
        <div class="header-text">
            <h1>Managers</h1>
        </div>
    </div>
    <hr>
    <md-list>
        <a
            md-list-item
            class="player"
            *ngFor="let player of game?.players"
            [routerLink]="['/players', player.id]"
        >
            <img [src]="player.img" alt="" class="player-pic">
            <div class="player-info">
                <h1> {{ player.firstName }} {{ player.lastName }} </h1>
            </div>
        </a>
    </md-list>
</md-card-->

<!--div class="container">

    <div class='row'><div class="col-md-12">
        <ul style="padding: 0; margin: 0; list-style: none;">
            <li *ngFor="let player of game?.players">
                <a [routerLink]="['/players', player.id]">
                    {{player.firstName}} {{player.lastName}}
                    <span *ngIf="player.id === user?.id">(You)</span>
                </a>
                ({{rsvpMessages[player.rsvp]}})
            </li>
        </ul>
    </div></div>

</div-->
